!function(t,e,n,a){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),$document=t(n),$window=t(e),$document.ready(function(t){ContentBlocks={init:function(){var e=this;return e.headingFieldName="column_heading",e.setElements(),e.closeMetaBoxes(),e.$layoutHandles.click(),e.updateLayoutHeadings(),e.bindEvents(),t("#acf-toggle_content_blocks").find("input").each(function(){$this=t(this),$label=$this.closest("label");var e=$label.text();$label.replaceWith('<button class="acf-button content-block-toggle" type="button" value="'+$this.val()+'">'+e+"</button>")}),e},setElements:function(){var e=this;return e.$contentBlocks=t("#acf-content_blocks, #acf-content_blocks_repeater"),e.$layouts=e.$contentBlocks.find(".layout"),e.$layoutHandles=e.$layouts.find(".acf-fc-layout-handle"),e},bindEvents:function(){var e=this;return $document.on("change",'[data-field_name="'+e.headingFieldName+'"]',function(){e.updateLayoutHeadings()}),$document.on("click",".content-block-toggle",function(){$this=t(this),"open_blocks"===$this.val()?e.openContentBlocks():"close_blocks"===$this.val()&&e.closeContentBlocks()}),$document.on("click",".acf-fc-layout-handle",function(e){$layout=t(this).closest(".layout"),$layout.length>0&&($maps=$layout.find(".acf-google-map"),$maps.length>0&&$maps.each(function(){$map=t(this),acf.fields.google_map.set({$el:$map}).refresh()}))}),e},openContentBlocks:function(){var e=this;return e.$layouts.each(function(){$layout=t(this),$layoutHandle=$layout.find(".acf-fc-layout-handle");var e=$layout.attr("data-toggle");"closed"===e&&$layoutHandle.click()}),e},closeContentBlocks:function(){var e=this;return e.$layouts.each(function(){$layout=t(this),$layoutHandle=$layout.find(".acf-fc-layout-handle");var e=$layout.attr("data-toggle");"open"===e&&$layoutHandle.click()}),e},closeMetaBoxes:function(){return $postMetaBoxes=t(".postbox"),$postMetaBoxes.each(function(){$this=t(this),$this.hasClass("closed")||"submitdiv"===$this.attr("id")||$this.attr("id")===a||$this.addClass("closed")}),self},updateLayoutHeadings:function(){var e=this;return e.setElements(),e.$layouts.each(function(){$layout=t(this),$handle=$layout.find(".acf-fc-layout-handle"),$heading=$layout.find('[data-field_name="'+e.headingFieldName+'"]');var n=$heading.find("input").eq(0).val();$handleHeading=$handle.find(".handle-heading"),$handleHeading.length>0&&$handleHeading.remove(),$handleHeading=t("<strong>"),$handleHeading.addClass("handle-heading"),""!==n&&$handleHeading.text("- "+n),$handle.append($handleHeading)}),e}};var e=Object.create(ContentBlocks);e.init()})}(jQuery,window,document);